// This file is prepended or included in other files to provide i18n support
const translations = {
    en: {
        settingsTitle: "Doubanarr Settings",
        headerDesc: "Configure your Sonarr and Radarr connections",
        generalTitle: "âš™ï¸ General Settings",
        langLabel: "Language",
        radarrTitle: "ğŸ¥ Radarr Settings",
        sonarrTitle: "ğŸ“º Sonarr Settings",
        serverUrl: "Server URL",
        apiKey: "API Key",
        saveSettings: "Save Settings",
        testConnection: "Test Connection",
        successfullyAdded: "Successfully added!",
        error: "Error",
        metadataError: "Metadata Error",
        rootFolder: "Root Folder",
        qualityProfile: "Quality Profile",
        addTo: "Add to",
        downloaded: "Downloaded",
        monitored: "Monitored",
        inLibrary: "In Library",
        downloading: "Downloading",
        partiallyDownloaded: "Partially Downloaded",
        notInLibrary: "Not in Library",
        fetchingMetadata: "Fetching metadata...",
        adding: "Adding...",
        notConfigured: "is not configured.",
        testSuccess: "Connection successful!",
        testFailure: "Connection failed: ",
        saved: "Settings saved!",
        series: "Series",
        movie: "Movie",
        added: "Added",
        enterBoth: "Please enter both URL and API Key",
        settings: "Settings",
        addBtn: "Add to Library",
        addBtnFetching: "Fetching metadata...",
        addBtnAdding: "Adding..."
    },
    zh: {
        settingsTitle: "Doubanarr è®¾ç½®",
        headerDesc: "é…ç½®æ‚¨çš„ Sonarr å’Œ Radarr è¿æ¥",
        generalTitle: "âš™ï¸ é€šç”¨è®¾ç½®",
        langLabel: "è¯­è¨€",
        radarrTitle: "ğŸ¥ Radarr è®¾ç½®",
        sonarrTitle: "ğŸ“º Sonarr è®¾ç½®",
        serverUrl: "æœåŠ¡å™¨åœ°å€",
        apiKey: "API å¯†é’¥",
        saveSettings: "ä¿å­˜è®¾ç½®",
        testConnection: "æµ‹è¯•è¿æ¥",
        successfullyAdded: "æˆåŠŸæ·»åŠ ï¼",
        error: "é”™è¯¯",
        metadataError: "å…ƒæ•°æ®é”™è¯¯",
        rootFolder: "æ ¹ç›®å½•",
        qualityProfile: "è´¨é‡é…ç½®",
        addTo: "æ·»åŠ è‡³",
        downloaded: "å·²ä¸‹è½½",
        monitored: "ç›‘æ§ä¸­",
        inLibrary: "åº“ä¸­å·²æœ‰",
        downloading: "ä¸‹è½½ä¸­",
        partiallyDownloaded: "éƒ¨åˆ†ä¸‹è½½",
        notInLibrary: "æœªå…¥åº“",
        fetchingMetadata: "æ­£åœ¨è·å–å…ƒæ•°æ®...",
        adding: "æ­£åœ¨æ·»åŠ ...",
        notConfigured: "æœªé…ç½®ã€‚",
        testSuccess: "è¿æ¥æˆåŠŸï¼",
        testFailure: "è¿æ¥å¤±è´¥: ",
        saved: "è®¾ç½®å·²ä¿å­˜ï¼",
        series: "å‰§é›†",
        movie: "ç”µå½±",
        added: "å·²æ·»åŠ ",
        enterBoth: "è¯·è¾“å…¥åœ°å€å’Œ API å¯†é’¥",
        settings: "è®¾ç½®",
        addBtn: "æ·»åŠ è‡³åº“",
        addBtnFetching: "æ­£åœ¨è·å–å…ƒæ•°æ®...",
        addBtnAdding: "æ­£åœ¨æ·»åŠ ..."
    }
};

async function getTranslation(key) {
    const data = await chrome.storage.sync.get('preferredLanguage');
    const lang = data.preferredLanguage || 'zh';
    return translations[lang][key] || translations['zh'][key] || key;
}
